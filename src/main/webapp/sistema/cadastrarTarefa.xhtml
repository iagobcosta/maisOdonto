<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>

	<h:outputStylesheet library="css" name="default.css" />

</h:head>

<ui:composition template="/template/layoutBase.xhtml">


	<ui:define name="content">

		<p:dialog header="Editar Tarefa" id="dialog-modal-editar"
			widgetVar="dialog-modal-editar" modal="true" height="274px"
			width="659px">

			<ui:include src="/sistema/editarTarefa.xhtml" />


		</p:dialog>

		<p:growl id="growl-mensagem" showDetail="true" life="3000" />



		<h:form id="form-cadastro">

			<p:toolbar>
				<f:facet name="left">
					<p:commandButton type="button" value="New" icon="pi pi-file" />

					<p:commandButton type="button" value="Open"
						icon="pi pi-folder-open" />

					<span class="ui-separator"> <span
						class="ui-icon pi pi-ellipsis-v" />
					</span>

					<p:commandButton type="button" title="Save" icon="pi pi-save" />
					<p:commandButton type="button" title="Delete" icon="pi pi-trash" />
					<p:commandButton type="button" title="Print" icon="pi pi-print" />
				</f:facet>

				<f:facet name="right">
					<p:menuButton value="Options">
						<p:menuitem value="Save" action="#{toolbarView.save}"
							update="growl-mensagem" icon="pi pi-save" />
						<p:menuitem value="Update" action="#{toolbarView.update}"
							update="growl-mensagem" icon="pi pi-refresh" />
						<p:menuitem value="Delete" action="#{toolbarView.delete}"
							ajax="false" icon="pi pi-times" />
						<p:menuitem value="Homepage" url="http://www.primefaces.org"
							icon="pi pi-home" />
					</p:menuButton>
				</f:facet>

			</p:toolbar>

			<p:outputLabel value="Cadastrar Tarefa" />
			<p:fieldset>
				<h:panelGrid id="panelGrid-campos-form" columns="2" cellpadding="10"
					style="margin-bottom:10px">

					<p:outputLabel value="Titulo" for="inputText-titulo" />
					<p:inputText id="inputText-titulo" style="width:300px"
						maxlength="70" value="#{tarefaBean.tarefaModel.titulo}" />



					<p:outputLabel value="Descrição" for="inputText-descricao" />
					<p:inputText id="inputText-descricao" style="width:300px"
						maxlength="80" value="#{tarefaBean.tarefaModel.descricao}" />


					<h:outputText value="Prioridade" />
					<p:selectOneRadio id="selectOneRadio-prioridade"
						value="#{tarefaBean.tarefaModel.prioridade}">

						<f:selectItem itemLabel="Baixa" itemValue="B" />
						<f:selectItem itemLabel="Média" itemValue="M" />
						<f:selectItem itemLabel="Alta" itemValue="A" />
					</p:selectOneRadio>



					<h:commandButton value="Salvar" id="commandButton-salvar"
						icon="pi pi-check" action="#{tarefaBean.salvarNovaTarefa}"
						update="form-cadastro">
					</h:commandButton>

				</h:panelGrid>
			</p:fieldset>
			<p:spacer />
			<h:panelGroup id="pnlTabelaTarefa" layout="block">
				<p:dataTable id="dataTable-tarefas" var="tarefa"
					value="#{tarefaBean.tarefas}" rows="5" paginator="true"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="5,10,15">



					<p:column headerText="Titulo" style="width:200px;">
						<h:outputText value="#{tarefa.titulo}" />
					</p:column>

					<p:column headerText="Data de Criação" style="width:200px;">
						<h:outputText value="#{tarefa.dataCriacao}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</p:column>

					<p:column headerText="Ação" style="width:88px;">

						<p:commandButton icon="ui-icon-pencil" ajax="true"
							actionListener="#{tarefaBean.editar(tarefa)}"
							title="Alterar tarefa" id="btnEditar"
							oncomplete="PF('dialog-modal-editar').show();"
							update="dialog-modal-editar">
						</p:commandButton>

						<p:commandButton id="btnExcluir" icon="ui-icon-trash"
							actionListener="#{tarefaBean.excluirTarefa(tarefa)}"
							title="Excluir"
							onclick="return confirm('Deseja realmente excluir a tarefa?')">
						</p:commandButton>

					</p:column>
					

				</p:dataTable>
				<p:separator style="" />
				<p:panel id="hpnl" header="Horizontal Only">
					<h:outputText value="I can only be dragged horizontally." />
				</p:panel>
				<p:draggable for="hpnl" axis="y" />

			</h:panelGroup>
		</h:form>

	</ui:define>

</ui:composition>


</html>
